- hosts: master
  vars:
   ansible_python_interpreter: /usr/bin/python3

  tasks:
  
    - package:
        name:
          - jq
        state: present
      become: yes 

    - pip:
        name: pip
        state: latest

    - shell: python3 -m pip install --user ansible && python3 -m pip install --user paramiko
      register: ansibleinstall_output
      
    - debug:
        var: ansibleinstall_output
      
    - shell: ansible --version
      register: ansible_v_output

    - debug:
        var: ansible_v_output

    - shell: ansible-galaxy collection install community.general
      register: ansible_galaxy_output

    - debug:
        var: ansible_galaxy_output
        
           
#   - snap:
#       name:
#         - helm
#     register: snap_out
      
#   - debug:
#       var: snap_out
